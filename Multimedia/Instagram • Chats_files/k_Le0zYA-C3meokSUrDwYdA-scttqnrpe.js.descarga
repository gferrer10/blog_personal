;/*FB_PKG_DELIM*/

__d("PolarisDirectMediaHelpers",["PolarisDirectConstants","PolarisVideoResource","Promise","nullthrows","polarisExifOrientations","polarisGetBlobFromCanvas","polarisMediaOverlayInfoUtils","polarisReadImageFile"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b=d("PolarisDirectConstants").DIRECT_MESSAGE_MAX_WIDTH_PX);a=a[0].configHeight/a[0].configWidth;return Math.min(a*b,d("PolarisDirectConstants").DIRECT_MEDIA_MAX_HEIGHT_PX)}function e(a,b){b===void 0&&(b=d("PolarisDirectConstants").DIRECT_MEDIA_MAX_HEIGHT_PX);a=a[0].configWidth/a[0].configHeight;return a*b}function f(a){return a.map(function(a){var b=a.height,c=a.url;a=a.width;return{configHeight:b,configWidth:a,src:c}})}function h(a){return a.map(function(a){var b=a.height,c=a.url;a=a.width;return{configHeight:b,configWidth:a,profile:d("PolarisVideoResource").PROFILE_MAIN,src:c}})}var i=1080;function j(a,b){if(b>=a&&b>i)return i/b;else if(a>=b&&a>i)return i/a;return 1}function k(a){return new(b("Promise"))(function(b,e){d("polarisReadImageFile").readImageFile(a).then(function(a){var e=a.height,f=a.image,g=a.orientation;a=a.width;g=d("polarisExifOrientations").getOrientationData(g);g=g.degreesToRotate;var h=j(a,e),i=g%180===90;a=a*h;e=e*h;h=i?e:a;i=i?a:e;var k=document.createElement("canvas");k.width=h;k.height=i;var l=k.getContext("2d");l.translate(h/2,i/2);l.rotate(g*Math.PI/180);l.drawImage(f,0,0,f.width,f.height,-a/2,-e/2,a,e);return c("polarisGetBlobFromCanvas")(k).then(function(a){return b({blob:a,dataURL:window.URL.createObjectURL(a),height:Math.floor(k.height),width:Math.floor(k.width)})})})})}function l(a){var b=1,c=0;for(var d=0;d<a.length;d++)b=Math.min(a[d],b),c=Math.max(a[d],c);return b===c?a:a.map(function(a){return-b/(c-b)+1/(c-b)*a})}function m(a,b){if(a.length>b){var c=a.length/b,d=[];for(var e=0;e<b;e++){var f=e*c,g=(e+1)*c,h=0,i=0;for(var j=Math.ceil(f);j<Math.floor(g);j++)j<a.length&&(i++,h+=a[j]);i+=f-Math.floor(f);h+=(f-Math.floor(f))*a[Math.floor(f)];Math.ceil(g)<a.length&&(i+=Math.ceil(g)-g,h+=(Math.ceil(g)-g)*a[Math.ceil(g)]);i>0&&d.push(h/i)}return d}return a}function n(a){var b=a.carousel_media;return b==null?-1:b.findIndex(function(b){return b.id===a.carousel_share_child_media_id})}function o(a){var b=c("nullthrows")(a.carousel_media);a=n(a);a=Math.max(0,a);return b[a]}function p(a){a=a.media_overlay_info;return a!=null?d("polarisMediaOverlayInfoUtils").getMediaOverlayMediaCoverInfo(a)!=null:!1}g.getExtrinsicHeight=a;g.getExtrinsicWidth=e;g.getSrcSet=f;g.getVideoSrcSet=h;g.resizeAndRotateImage=k;g.getLinearlyInterpolatedValues=l;g.getReducedAudioWaveformDimensions=m;g.getSharedCarouselChildIdxIfAny=n;g.getSharedCarouselChild=o;g.shouldMediaRenderCoverOverlayImpl=p}),98);
__d("PolarisDirectMessagePostModal",["PolarisDirectMediaHelpers","PolarisLinkBuilder","PolarisPost.react","PolarisPostModal.react","PolarisPostVariants","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.media,e=a.modalEntryPath,f=a.onClose;a=a.onOpen;var g=b.id.split("_")[0],i=b.code,j={height:b.original_height,width:b.original_width},k="DirectThreadPage";b=d("PolarisDirectMediaHelpers").getSharedCarouselChildIdxIfAny(b);return h.jsx(c("PolarisPostModal.react"),{analyticsContext:k,dimensions:j,mediaLinkBuilder:d("PolarisLinkBuilder").buildMediaLink,modalEntryPath:e,onClose:f,onOpen:a,postCode:i,postId:g,children:h.jsx(c("PolarisPost.react"),{analyticsContext:k+"Modal",autoplay:!0,id:g,initialCarouselIndex:b,isVisible:!0,variant:d("PolarisPostVariants").VARIANTS.flexible,visiblePosition:0})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("ZenonCallWindowErrors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonOpeningAnotherCallError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonConferenceNameMutationFailedError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));c=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonIncompleteControllerParamsError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));d=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonUnsupportedThreadTypeError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.name="ZenonCannotAcceptInviteError",b)||babelHelpers.assertThisInitialized(c)}return b}(babelHelpers.wrapNativeSuper(Error));var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.name="ZenonInviteNotFoundError",a)||babelHelpers.assertThisInitialized(c)}return a}(babelHelpers.wrapNativeSuper(Error)),h=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.name="ZenonUninitializedError",a)||babelHelpers.assertThisInitialized(c)}return a}(babelHelpers.wrapNativeSuper(Error));f.OpeningAnotherCallError=a;f.ConferenceNameMutationFailedError=b;f.IncompleteControllerParamsError=c;f.UnsupportedThreadTypeError=d;f.CannotAcceptInviteError=e;f.InviteNotFoundError=g;f.UninitializedError=h}),66);
__d("ZenonAppProvider",["IGDWebUtils","ZenonActorHooks"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("ZenonActorHooks").ZenonActor.getAppID()==null?null:Number(d("ZenonActorHooks").ZenonActor.getAppID());return d("IGDWebUtils").isInstagramWebSupportedApp(a)}function b(){var a=d("ZenonActorHooks").ZenonActor.getAppID()==null?null:Number(d("ZenonActorHooks").ZenonActor.getAppID());return h(a)}function h(a){return a!=null?a===2763362503905702||a===351299233827255:!1}g.isInstagramApp=a;g.isOculusApp=b}),98);
__d("ZenonActorHooks",["CurrentUser","FBLogger","ZenonAppProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=null,j=null,k=!1,l=!1,m=new Set();function n(a,b){b===void 0&&(b="Fallback to CurrentUser"),m.has(a)||(c("FBLogger")("rtc_www").blameToPreviousFrame().info("ZenonActor."+a+" - "+b),m.add(a))}function a(){return[o.getID(),function(a){n("useZenonActor:setter","This setter should not be used as Zenon should currently doesn't allow switching Actor"),h=a}]}function b(a,b,c){b===void 0&&(b=!1);c===void 0&&(c=!1);if(h!==null){if(l)return;n("initZenonActor","ZenonActor is being reinitalized. This may indicate unneccessary ZenonActorProvider's to RelayEnvironmentProvider's in the component tree.")}l=l||b;k=k||c;typeof a==="string"||typeof a==="number"?(h=a.toString(),i=null,j=null):(a==null?void 0:a.actorID)!=null&&(h=a.actorID.toString(),i=a.name,j=a.shortName)}var o={getAccountID:function(){return o.isInstagramUser()?c("CurrentUser").getEIMU():c("CurrentUser").getAccountID()},getAppID:function(){return c("CurrentUser").getAppID()},getID:function(){if(o.isInstagramUser())return c("CurrentUser").getEIMU();if(h===null){n("getID");return c("CurrentUser").getID()}else return h},getName:function(){var a;return(a=i)!=null?a:c("CurrentUser").getName()},getShortName:function(){var a;return(a=j)!=null?a:c("CurrentUser").getShortName()},isEmployee:function(){return c("CurrentUser").isEmployee()},isInstagramUser:function(){return c("CurrentUser").getEIMU()!==0&&d("ZenonAppProvider").isInstagramApp()},isLoggedIn:function(){return c("CurrentUser").isLoggedIn()},isLoggedInNow:function(){return c("CurrentUser").isLoggedInNow()},isMessengerCallGuestUser:function(){return c("CurrentUser").isMessengerCallGuestUser()},isOculusUser:function(){return c("CurrentUser").getEPOU()!==0&&d("ZenonAppProvider").isOculusApp()},isPage:function(){return k},isTestUser:function(){return c("CurrentUser").isTestUser()},isWorkishUser:function(){return c("CurrentUser").isWorkroomsUser()||c("CurrentUser").isWorkUser()},isWorkroomsUser:function(){return c("CurrentUser").isWorkroomsUser()},isWorkUser:function(){return c("CurrentUser").isWorkUser()}};g.useZenonActor=a;g.initZenonActor=b;g.ZenonActor=o}),98);
__d("ZenonPeerID",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";var i="MW_PEER_ID";function a(a){a.length>0||h(0,33504);if(a==="MW_PEER_ID")return i;isNaN(a)===!1||h(0,33551,a);return a}function b(a){return isNaN(a)||a===i?null:a}g.ZenonMWPeerID=i;g.convertStringToPeerID=a;g.convertPeerIDForLogging=b}),98);/*FB_PKG_DELIM*/
__d("VideoPlayerScrubber_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubber_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberBase_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubber.react",["fbt","CometRelay","VideoPlayerHooks","VideoPlayerScrubberBase.react","VideoPlayerScrubber_video.graphql","react","useLiveRewindUtils"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=d("react").useCallback,l=function(){return d("VideoPlayerHooks").useCurrentTimeThrottled(200)};function a(a){var e=a.onUserInteraction,f=a.renderTooltip;a=a.video;a=d("CometRelay").useFragment(i!==void 0?i:i=b("VideoPlayerScrubber_video.graphql"),a);var g=l(),m=d("VideoPlayerHooks").useDuration(),n=d("VideoPlayerHooks").useController(),o=d("VideoPlayerHooks").useBufferEnd(),p=d("VideoPlayerHooks").useIsLive(),q=d("VideoPlayerHooks").useIsLiveRewindActive(),r=d("useLiveRewindUtils").useLiveRewindScrub(),s=d("useLiveRewindUtils").useLiveRewindForward(),t=d("useLiveRewindUtils").useLiveRewindBack(),u=d("useLiveRewindUtils").useLiveRewindStart(),v=d("useLiveRewindUtils").useLiveRewindLive(),w=d("useLiveRewindUtils").useLiveRewindSeekableStartTime();p&&(m-=w,g-=w);w=k(function(){if(p)s();else{var a=n.getPlayheadPosition()+5;a>=m?n.seek(m-.01):n.seek(a)}},[n,p,s,m]);var x=p?h._("__JHASH__Fazg7jyI-AJ__JHASH__"):h._("__JHASH__Hz44qTuOc36__JHASH__"),y=k(function(){if(p)t();else{var a=n.getPlayheadPosition()-5;a<0?n.seek(0):n.seek(a)}},[n,p,t]),z=p?h._("__JHASH__fXj-dMG-OtJ__JHASH__"):h._("__JHASH__KzLU7zLc4h8__JHASH__"),A=k(function(){p?u():n.seek(0)},[n,p,u]),B=k(function(){p?v():n.seek(m-.01)},[n,p,v,m]),C=k(function(){n.scrubEnd(null)},[n]),D=k(function(){n.scrubBegin()},[n]),E=k(function(a){!p?n.scrubEnd(a):r(a)},[n,p,r]);return j.jsx(c("VideoPlayerScrubberBase.react"),{bufferEnd:o,currentTime:g,duration:m,isLive:p,isLiveRewindActive:q,keyLeftDescription:z,keyRightDescription:x,onScrubCancel:C,onScrubEnd:E,onScrubStart:D,onUserInteraction:e,playFromBeginningImpl:A,renderTooltip:f,skipBackwardImpl:y,skipForwardImpl:w,skipToEndImpl:B,video:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);