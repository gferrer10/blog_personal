;/*FB_PKG_DELIM*/

__d("LSOptimisticSendAttachmentForward",["LSInsertOptimisticAttachment","LSIssueNewTaskAndGetTaskID","LSLocalApplyOptimisticMessage","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return d[1]=a[3]===""?f:a[3],d[1]!==f?c.seq([function(b){return c.fe(c.ftr(c.db.table(16).fetch([[[a[1],d[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===d[1]&&c.i64.eq(b.authorityLevel,c.i64.cast([0,20]))}),function(b){var d=b.update;b.item;return d({attachmentFbid:c.i64.to_string(a[7])})})},function(a){return d[0]=d[1]}]):c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[4],a[5],a[6],f,f,f,f,c.i64.cast([0,3]),f,f,f,!0).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],a})},function(e){return c.ftr(c.db.table(16).fetch(),function(b){return b.attachmentFbid===c.i64.to_string(a[7])}).next().then(function(e,h){var i=e.done;e=e.value;return i?c.sp(b("LSInsertOptimisticAttachment"),a[1],d[3],d[2],d[2],c.i64.to_string(a[7]),c.i64.cast([0,2]),f,f,!0,!1):(h=e.item,c.seq([function(e){return c.sp(b("LSInsertOptimisticAttachment"),a[1],d[3],d[2],d[2],c.i64.to_string(a[7]),h.attachmentType,h.filename,h.attributionAppId,!0,!1)},function(e){return c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[2],c.i64.to_string(a[7]),h.playableUrl,h.playableUrlFallback,h.playableUrlExpirationTimestampMs,h.playableUrlMimeType,h.previewUrl,h.previewUrlFallback,h.previewUrlExpirationTimestampMs,h.previewUrlMimeType,h.previewWidth,h.previewHeight)}]))})},function(a){return d[0]=d[2]}])},function(e){return c.seq([function(e){return d[2]=c.createArray(),d[4]=(d[2].push(a[7]),d[2]),c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),c.i64.cast([0,46]),"",f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),f,c.i64.cast([0,0])).then(function(a){return a=a,d[3]=a[0],a})},function(b){return c.db.table(31).add({taskId:d[3],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:a[8],sendType:c.i64.cast([0,4]),markThreadRead:!1,initiatingSource:a[9]})}])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticSendMessageForward",["LSInsertOptimisticAttachment","LSIssueNewTaskAndGetTaskID","LSLocalApplyOptimisticMessage","LSPredefineTraceForTask","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[3],a[4],a[5]]]]),function(b){return c.i64.eq(b.threadKey,a[3])&&c.i64.eq(c.i64.cast([0,0]),c.i64.cast([0,0]))&&c.i64.eq(b.timestampMs,a[4])&&b.messageId===a[5]&&c.i64.eq(b.authorityLevel,c.i64.cast([0,80]))}).next().then(function(e,h){var i=e.done;e=e.value;return i?(d[2]=c.createArray(),d[3]=(d[2].push("optimisticSendMessageForward msg not found"),d[2]),d[4]=(d[2].push(a[5]),d[2]),d[5]=c.toJSON(d[2]),function(a){c.logger(a).mustfix(a)}(d[5]),d[0]=""):(h=e.item,c.seq([function(e){return d[8]=h.forwardScore,d[2]=h.text,d[3]=d[8],c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],d[2],f,f,h.stickerId,h.hotEmojiSize,f,f,c.i64.cast([0,3]),f,d[3],f,!0).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(e){return c.fe(c.db.table(16).fetch([[[h.threadKey,h.messageId]]]),function(e){var h=e.item;return c.seq([function(e){return d[13]=h.attachmentFbid,d[9]=c.createArray(),d[10]=(d[9].push(d[13]),d[9]),d[11]=(d[9].push(d[4]),d[9]),d[12]=c.toJSON(d[9]),c.sp(b("LSInsertOptimisticAttachment"),a[1],d[5],d[4],d[13],d[12],h.attachmentType,h.filename,f,h.hasMedia,h.hasXma)},function(e){return c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[4],d[12],h.playableUrl,h.playableUrlFallback,h.playableUrlExpirationTimestampMs,h.playableUrlMimeType,h.previewUrl,h.previewUrlFallback,h.previewUrlExpirationTimestampMs,h.previewUrlMimeType,h.previewWidth,h.previewHeight)}])})},function(e){return c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),c.i64.cast([0,46]),"",f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),f,c.i64.cast([0,0])).then(function(a){return a=a,d[6]=a[0],a})},function(a){return f!==f?c.sp(b("LSPredefineTraceForTask"),f,d[6],c.i64.to_string(c.i64.cast([0,46])),d[4]):c.resolve()},function(b){return c.db.table(31).add({taskId:d[6],threadKey:a[1],offlineThreadingId:d[4],messageId:a[5],threadAttributionSource:a[6],sendType:c.i64.cast([0,5]),markThreadRead:!1,initiatingSource:a[7]})},function(b){return d[9]=new c.Map(),d[10]=d[9].set("optimisticSendMessageForward",a[1]),d[11]=d[9].set("fwdMsgID",a[5]),d[12]=c.toJSON(d[9]),d[7]=d[12],function(a){c.logger(a).info(a)}(d[7]),d[0]=d[4]}]))})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("IGDSEmojiConstants",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";var i=h._("__JHASH__VHC0VCJsTvE__JHASH__"),j=h._("__JHASH__l2KcVpjSAn2__JHASH__"),k=h._("__JHASH__IUaEGHAB0gl__JHASH__"),l=h._("__JHASH__zP1MgSFndq1__JHASH__"),m=h._("__JHASH__dHbrxmRVXR6__JHASH__"),n=h._("__JHASH__WvahIXJNL33__JHASH__"),o=h._("__JHASH__GAAKwU7atH-__JHASH__");a=h._("__JHASH__1aWijKWuvmZ__JHASH__");b=function(){return[[128514],[128558],[128525],[128546],[128079],[128293],[127881],[128175],[10084,65039],[129315],[129392],[128536],[128557],[128522]]};c=function(){var a=[[55357,56832],[55357,56835],[55357,56836],[55357,56833],[55357,56838],[55357,56837],[55358,56611],[55357,56834],[55357,56898],[55357,56899],[55357,56841],[55357,56842],[55357,56839],[55358,56688],[55357,56845],[55358,56617],[55357,56856],[55357,56855],[9786],[55357,56858],[55357,56857],[55357,56843],[55357,56859],[55357,56860],[55358,56618],[55357,56861],[55358,56593],[55358,56599],[55358,56621],[55358,56619],[55358,56596],[55358,56592],[55358,56616],[55357,56848],[55357,56849],[55357,56886],[55357,56847],[55357,56850],[55357,56900],[55357,56876],[55358,56613],[55357,56844],[55357,56852],[55357,56874],[55358,56612],[55357,56884],[55357,56887],[55358,56594],[55358,56597],[55358,56610],[55358,56622],[55358,56615],[55358,56693],[55358,56694],[55358,56692],[55357,56885],[55358,56623],[55358,56608],[55358,56691],[55357,56846],[55358,56595],[55358,56784],[55357,56853],[55357,56863],[55357,56897],[9785],[55357,56878],[55357,56879],[55357,56882],[55357,56883],[55358,56698],[55357,56870],[55357,56871],[55357,56872],[55357,56880],[55357,56869],[55357,56866],[55357,56877],[55357,56881],[55357,56854],[55357,56867],[55357,56862],[55357,56851],[55357,56873],[55357,56875],[55357,56868],[55357,56865],[55357,56864],[55358,56620],[55357,56840],[55357,56447],[55357,56448],[9760],[55357,56489],[55358,56609],[55357,56441],[55357,56442],[55357,56443],[55357,56445],[55357,56446],[55358,56598],[55357,56890],[55357,56888],[55357,56889],[55357,56891],[55357,56892],[55357,56893],[55357,56896],[55357,56895],[55357,56894],[55357,56459],[55357,56395],[55358,56602],[55357,56720],[9995],[55357,56726],[55357,56396],[9996],[55358,56606],[55358,56607],[55358,56600],[55358,56601],[55357,56392],[55357,56393],[55357,56390],[55357,56725],[55357,56391],[9757],[55357,56397],[55357,56398],[9994],[55357,56394],[55358,56603],[55358,56604],[55357,56399],[55357,56908],[55357,56400],[55358,56626],[55358,56605],[55357,56911],[9997],[55357,56453],[55358,56627],[55357,56490],[55358,56757],[55358,56758],[55357,56386],[55357,56387],[55358,56800],[55358,56759],[55358,56756],[55357,56384],[55357,56385],[55357,56389],[55357,56388],[55357,56438],[55358,56786],[55357,56422],[55357,56423],[55358,56785],[55357,56433],[55357,56424],[55358,56788],[55357,56424,8205,55358,56752],[55357,56424,8205,55358,56753],[55357,56424,8205,55358,56755],[55357,56424,8205,55358,56754],[55357,56425],[55357,56425,8205,55358,56752],[55357,56425,8205,55358,56753],[55357,56425,8205,55358,56755],[55357,56425,8205,55358,56754],[55357,56433,8205,9792,65039],[55357,56433,8205,9794,65039],[55358,56787],[55357,56436],[55357,56437],[55357,56909],[55357,56909,8205,9794,65039],[55357,56909,8205,9792,65039],[55357,56910],[55357,56910,8205,9794,65039],[55357,56910,8205,9792,65039],[55357,56901],[55357,56901,8205,9794,65039],[55357,56901,8205,9792,65039],[55357,56902],[55357,56902,8205,9794,65039],[55357,56902,8205,9792,65039],[55357,56449],[55357,56449,8205,9794,65039],[55357,56449,8205,9792,65039],[55357,56907],[55357,56907,8205,9794,65039],[55357,56907,8205,9792,65039],[55357,56903],[55357,56903,8205,9794,65039],[55357,56903,8205,9792,65039],[55358,56614],[55358,56614,8205,9794,65039],[55358,56614,8205,9792,65039],[55358,56631],[55358,56631,8205,9794,65039],[55358,56631,8205,9792,65039],[55357,56424,8205,9877,65039],[55357,56425,8205,9877,65039],[55357,56424,8205,55356,57235],[55357,56425,8205,55356,57235],[55357,56424,8205,55356,57323],[55357,56425,8205,55356,57323],[55357,56424,8205,9878,65039],[55357,56425,8205,9878,65039],[55357,56424,8205,55356,57150],[55357,56425,8205,55356,57150],[55357,56424,8205,55356,57203],[55357,56425,8205,55356,57203],[55357,56424,8205,55357,56615],[55357,56425,8205,55357,56615],[55357,56424,8205,55356,57325],[55357,56425,8205,55356,57325],[55357,56424,8205,55357,56508],[55357,56425,8205,55357,56508],[55357,56424,8205,55357,56620],[55357,56425,8205,55357,56620],[55357,56424,8205,55357,56507],[55357,56425,8205,55357,56507],[55357,56424,8205,55356,57252],[55357,56425,8205,55356,57252],[55357,56424,8205,55356,57256],[55357,56425,8205,55356,57256],[55357,56424,8205,9992,65039],[55357,56425,8205,9992,65039],[55357,56424,8205,55357,56960],[55357,56425,8205,55357,56960],[55357,56424,8205,55357,56978],[55357,56425,8205,55357,56978],[55357,56430],[55357,56430,8205,9794,65039],[55357,56430,8205,9792,65039],[55357,56693],[55357,56693,65039,8205,9794,65039],[55357,56693,65039,8205,9792,65039],[55357,56450],[55357,56450,8205,9794,65039],[55357,56450,8205,9792,65039],[55357,56439],[55357,56439,8205,9794,65039],[55357,56439,8205,9792,65039],[55358,56628],[55357,56440],[55357,56435],[55357,56435,8205,9794,65039],[55357,56435,8205,9792,65039],[55357,56434],[55358,56789],[55358,56629],[55357,56432],[55358,56624],[55358,56625],[55357,56444],[55356,57221],[55358,56630],[55358,56760],[55358,56760,8205,9794,65039],[55358,56760,8205,9792,65039],[55358,56761],[55358,56761,8205,9794,65039],[55358,56761,8205,9792,65039],[55358,56793],[55358,56793,8205,9794,65039],[55358,56793,8205,9792,65039],[55358,56794],[55358,56794,8205,9794,65039],[55358,56794,8205,9792,65039],[55358,56795],[55358,56795,8205,9794,65039],[55358,56795,8205,9792,65039],[55358,56796],[55358,56796,8205,9794,65039],[55358,56796,8205,9792,65039],[55358,56797],[55358,56797,8205,9794,65039],[55358,56797,8205,9792,65039],[55358,56798],[55358,56798,8205,9794,65039],[55358,56798,8205,9792,65039],[55358,56799],[55358,56799,8205,9794,65039],[55358,56799,8205,9792,65039],[55357,56454],[55357,56454,8205,9794,65039],[55357,56454,8205,9792,65039],[55357,56455],[55357,56455,8205,9794,65039],[55357,56455,8205,9792,65039],[55357,57014],[55357,57014,8205,9794,65039],[55357,57014,8205,9792,65039],[55356,57283],[55356,57283,8205,9794,65039],[55356,57283,8205,9792,65039],[55357,56451],[55357,56698],[55357,56692],[55357,56431],[55357,56431,8205,9794,65039],[55357,56431,8205,9792,65039],[55358,56790],[55358,56790,8205,9794,65039],[55358,56790,8205,9792,65039],[55358,56792],[55357,56429],[55357,56427],[55357,56428],[55357,56463],[55357,56424,8205,10084,65039,8205,55357,56459,8205,55357,56424],[55357,56425,8205,10084,65039,8205,55357,56459,8205,55357,56425],[55357,56465],[55357,56424,8205,10084,65039,8205,55357,56424],[55357,56425,8205,10084,65039,8205,55357,56425],[55357,56426],[55357,56424,8205,55357,56425,8205,55357,56422],[55357,56424,8205,55357,56425,8205,55357,56423],[55357,56424,8205,55357,56425,8205,55357,56423,8205,55357,56422],[55357,56424,8205,55357,56425,8205,55357,56422,8205,55357,56422],[55357,56424,8205,55357,56425,8205,55357,56423,8205,55357,56423],[55357,56424,8205,55357,56424,8205,55357,56422],[55357,56424,8205,55357,56424,8205,55357,56423],[55357,56424,8205,55357,56424,8205,55357,56423,8205,55357,56422],[55357,56424,8205,55357,56424,8205,55357,56422,8205,55357,56422],[55357,56424,8205,55357,56424,8205,55357,56423,8205,55357,56423],[55357,56425,8205,55357,56425,8205,55357,56422],[55357,56425,8205,55357,56425,8205,55357,56423],[55357,56425,8205,55357,56425,8205,55357,56423,8205,55357,56422],[55357,56425,8205,55357,56425,8205,55357,56422,8205,55357,56422],[55357,56425,8205,55357,56425,8205,55357,56423,8205,55357,56423],[55357,56424,8205,55357,56422],[55357,56424,8205,55357,56422,8205,55357,56422],[55357,56424,8205,55357,56423],[55357,56424,8205,55357,56423,8205,55357,56422],[55357,56424,8205,55357,56423,8205,55357,56423],[55357,56425,8205,55357,56422],[55357,56425,8205,55357,56422,8205,55357,56422],[55357,56425,8205,55357,56423],[55357,56425,8205,55357,56423,8205,55357,56422],[55357,56425,8205,55357,56423,8205,55357,56423],[55357,56803],[55357,56420],[55357,56421],[55357,56419],[55358,56819],[55356,57090],[9730],[55358,56821],[55358,56822],[55357,56403],[55357,56694],[55358,56701],[55358,56700],[55357,56404],[55357,56405],[55357,56406],[55358,56803],[55358,56804],[55358,56805],[55358,56806],[55357,56407],[55357,56408],[55357,56409],[55357,56410],[55357,56411],[55357,56412],[55357,56413],[55356,57234],[55357,56414],[55357,56415],[55358,56702],[55358,56703],[55357,56416],[55357,56417],[55357,56418],[55357,56401],[55357,56402],[55356,57257],[55356,57235],[55358,56802],[9937],[55357,56452],[55357,56461],[55357,56508]],b=[[55357,56904],[55357,56905],[55357,56906],[55357,56485],[55357,56491],[55357,56486],[55357,56488],[55357,56373],[55357,56338],[55358,56717],[55357,56374],[55357,56341],[55357,56361],[55357,56378],[55358,56714],[55358,56733],[55357,56369],[55357,56328],[55358,56705],[55357,56367],[55357,56325],[55357,56326],[55357,56372],[55357,56334],[55358,56708],[55358,56723],[55358,56716],[55357,56366],[55357,56322],[55357,56323],[55357,56324],[55357,56375],[55357,56342],[55357,56343],[55357,56381],[55357,56335],[55357,56337],[55357,56336],[55357,56362],[55357,56363],[55358,56729],[55358,56722],[55357,56344],[55358,56719],[55358,56731],[55357,56365],[55357,56321],[55357,56320],[55357,56377],[55357,56368],[55357,56327],[55357,56383],[55358,56724],[55358,56711],[55357,56379],[55357,56360],[55357,56380],[55358,56728],[55358,56737],[55357,56382],[55358,56707],[55357,56340],[55357,56339],[55357,56355],[55357,56356],[55357,56357],[55357,56358],[55357,56359],[55357,56650],[55358,56709],[55358,56710],[55358,56738],[55358,56713],[55358,56730],[55358,56732],[55357,56376],[55357,56330],[55357,56354],[55358,56718],[55357,56333],[55357,56370],[55357,56329],[55358,56725],[55358,56726],[55357,56371],[55357,56331],[55357,56364],[55357,56351],[55357,56352],[55357,56353],[55358,56712],[55357,56345],[55357,56346],[55357,56332],[55358,56715],[55357,56347],[55357,56348],[55357,56349],[55357,56350],[55358,56727],[55357,56695],[55357,56696],[55358,56706],[55358,56735],[55358,56736],[55357,56464],[55356,57144],[55357,56494],[55356,57333],[55356,57145],[55358,56640],[55356,57146],[55356,57147],[55356,57148],[55356,57143],[55356,57137],[55356,57138],[55356,57139],[55356,57140],[55356,57141],[55356,57150],[55356,57151],[9752],[55356,57152],[55356,57153],[55356,57154],[55356,57155],[55356,57156],[55356,57136],[55358,56704],[55358,56734],[55358,56720],[55358,56721],[55356,57101],[55356,57102],[55356,57103],[55356,57104],[55356,57105],[55356,57106],[55356,57107],[55356,57108],[55356,57109],[55356,57110],[55356,57111],[55356,57112],[55356,57113],[55356,57114],[55356,57115],[55356,57116],[9728],[55356,57117],[55356,57118],[11088],[55356,57119],[55356,57120],[9729],[9925],[9928],[55356,57124],[55356,57125],[55356,57126],[55356,57127],[55356,57128],[55356,57129],[55356,57130],[55356,57131],[55356,57132],[55356,57096],[9730],[9748],[9889],[10052],[9731],[9924],[9732],[55357,56613],[55357,56487],[55356,57098],[55356,57220],[10024],[55356,57227],[55356,57229]],c=[[55356,57159],[55356,57160],[55356,57161],[55356,57162],[55356,57163],[55356,57164],[55356,57165],[55358,56685],[55356,57166],[55356,57167],[55356,57168],[55356,57169],[55356,57170],[55356,57171],[55358,56669],[55356,57157],[55358,56677],[55358,56657],[55356,57158],[55358,56660],[55358,56661],[55356,57149],[55356,57142],[55358,56658],[55358,56684],[55358,56678],[55356,57156],[55358,56668],[55356,57136],[55356,57182],[55358,56656],[55358,56662],[55358,56680],[55358,56687],[55358,56670],[55358,56768],[55356,57174],[55356,57175],[55358,56681],[55358,56659],[55356,57172],[55356,57183],[55356,57173],[55356,57133],[55358,56682],[55356,57134],[55356,57135],[55358,56665],[55356,57203],[55358,56664],[55356,57202],[55358,56675],[55358,56663],[55356,57215],[55358,56770],[55358,56683],[55356,57201],[55356,57176],[55356,57177],[55356,57178],[55356,57179],[55356,57180],[55356,57181],[55356,57184],[55356,57186],[55356,57187],[55356,57188],[55356,57189],[55358,56686],[55356,57185],[55358,56671],[55358,56672],[55358,56673],[55356,57190],[55356,57191],[55356,57192],[55356,57193],[55356,57194],[55356,57218],[55356,57200],[55358,56769],[55358,56679],[55356,57195],[55356,57196],[55356,57197],[55356,57198],[55356,57199],[55356,57212],[55358,56667],[9749],[55356,57205],[55356,57206],[55356,57214],[55356,57207],[55356,57208],[55356,57209],[55356,57210],[55356,57211],[55358,56642],[55358,56643],[55358,56676],[55358,56674],[55356,57213],[55356,57204],[55358,56644]],d=[[55357,56692],[55358,56791],[55358,56791,8205,9794,65039],[55358,56791,8205,9792,65039],[55356,57287],[9975],[55356,57282],[55356,57292],[55356,57292,65039,8205,9794,65039],[55356,57292,65039,8205,9792,65039],[55356,57284],[55356,57284,8205,9794,65039],[55356,57284,8205,9792,65039],[55357,56995],[55357,56995,8205,9794,65039],[55357,56995,8205,9792,65039],[55356,57290],[55356,57290,8205,9794,65039],[55356,57290,8205,9792,65039],[9977],[9977,65039,8205,9794,65039],[9977,65039,8205,9792,65039],[55356,57291],[55356,57291,65039,8205,9794,65039],[55356,57291,65039,8205,9792,65039],[55357,57012],[55357,57012,8205,9794,65039],[55357,57012,8205,9792,65039],[55357,57013],[55357,57013,8205,9794,65039],[55357,57013,8205,9792,65039],[55358,56632],[55358,56632,8205,9794,65039],[55358,56632,8205,9792,65039],[55358,56636],[55358,56636,8205,9794,65039],[55358,56636,8205,9792,65039],[55358,56637],[55358,56637,8205,9794,65039],[55358,56637,8205,9792,65039],[55358,56638],[55358,56638,8205,9794,65039],[55358,56638,8205,9792,65039],[55358,56633],[55358,56633,8205,9794,65039],[55358,56633,8205,9792,65039],[55358,56792],[55358,56792,8205,9794,65039],[55358,56792,8205,9792,65039],[55356,57258],[55357,57081],[55356,57239],[55356,57247],[55356,57259],[55356,57238],[55356,57286],[55356,57285],[55358,56647],[55358,56648],[55358,56649],[9917],[9918],[55358,56654],[55356,57280],[55356,57296],[55356,57288],[55356,57289],[55356,57278],[55358,56655],[55356,57267],[55356,57295],[55356,57297],[55356,57298],[55358,56653],[55356,57299],[55356,57336],[55358,56650],[55358,56651],[9971],[9976],[55356,57251],[55356,57277],[55356,57279],[55357,57079],[55358,56652],[55356,57263],[55356,57265],[55356,57262],[55356,57264],[55356,57266],[55358,56809],[9823],[55356,57261],[55356,57256],[55358,56821],[55358,56822],[55356,57276],[55356,57252],[55356,57255],[55356,57271],[55356,57272],[55356,57273],[55356,57274],[55356,57275],[55358,56641],[55356,57260],[55356,57337]],e=[[55357,56995],[55357,56830],[55356,57300],[9968],[55356,57099],[55357,56827],[55356,57301],[55356,57302],[55356,57308],[55356,57309],[55356,57310],[55356,57311],[55356,57307],[55356,57303],[55356,57304],[55356,57306],[55356,57312],[55356,57313],[55356,57314],[55356,57315],[55356,57316],[55356,57317],[55356,57318],[55356,57320],[55356,57321],[55356,57322],[55356,57323],[55356,57324],[55356,57325],[55356,57327],[55356,57328],[55357,56466],[55357,56828],[55357,56829],[9962],[55357,56652],[55357,56653],[9961],[55357,56651],[9970],[9978],[55356,57089],[55356,57091],[55356,57305],[55356,57092],[55356,57093],[55356,57094],[55356,57095],[55356,57097],[55356,57248],[55356,57249],[55356,57250],[55357,56962],[55357,56963],[55357,56964],[55357,56965],[55357,56966],[55357,56967],[55357,56968],[55357,56969],[55357,56970],[55357,56989],[55357,56990],[55357,56971],[55357,56972],[55357,56973],[55357,56974],[55357,56976],[55357,56977],[55357,56978],[55357,56979],[55357,56980],[55357,56981],[55357,56982],[55357,56983],[55357,56984],[55357,56986],[55357,56987],[55357,56988],[55356,57294],[55356,57293],[55357,57077],[55357,57010],[55357,57076],[55357,56975],[55357,57060],[9981],[55357,57e3],[55357,56997],[55357,56998],[55357,56999],[9875],[9973],[55357,56996],[55357,57075],[9972],[55357,57061],[55357,56994],[9992],[55357,57065],[55357,57067],[55357,57068],[55357,56506],[55357,56961],[55357,56991],[55357,56992],[55357,56993],[55357,57072],[55357,56960],[55357,57080],[55356,57120],[55356,57100],[9969],[55356,57222],[55356,57223],[55356,57233],[55357,56500],[55357,56501],[55357,56502],[55357,56503],[55357,56831],[55357,57026],[55357,57027],[55357,57028],[55357,57029]],f=[[55357,56460],[55357,56691],[55357,56483],[55357,57024],[55357,57036],[55357,56618],[55356,57338],[55357,56826],[55358,56813],[55358,56817],[55357,56456],[55357,57058],[55357,57038],[55358,56819],[8987],[9203],[8986],[9200],[9201],[9202],[55357,56688],[55356,57121],[9969],[55358,56808],[55356,57224],[55356,57225],[55356,57226],[55356,57230],[55356,57231],[55356,57232],[55358,56807],[55356,57216],[55356,57217],[55357,56622],[55358,56831],[55357,56697],[55358,56824],[55357,56764],[55358,56821],[55358,56822],[55357,57037],[55357,56575],[55357,56462],[55357,56559],[55356,57241],[55356,57242],[55356,57243],[55357,56571],[55357,56561],[55357,56562],[9742],[55357,56542],[55357,56543],[55357,56544],[55357,56587],[55357,56588],[55357,56507],[55357,56741],[55357,56744],[9e3],[55357,56753],[55357,56754],[55357,56509],[55357,56510],[55357,56511],[55357,56512],[55358,56814],[55356,57253],[55356,57246],[55357,56573],[55357,56570],[55357,56567],[55357,56568],[55357,56569],[55357,56572],[55357,56589],[55357,56590],[55357,56687],[55357,56481],[55357,56614],[55356,57326],[55357,56532],[55357,56533],[55357,56534],[55357,56535],[55357,56536],[55357,56537],[55357,56538],[55357,56531],[55357,56515],[55357,56540],[55357,56516],[55357,56560],[55357,56798],[55357,56529],[55357,56598],[55356,57335],[55357,56496],[55357,56500],[55357,56501],[55357,56502],[55357,56503],[55357,56504],[55357,56499],[55358,56830],[9993],[55357,56551],[55357,56552],[55357,56553],[55357,56548],[55357,56549],[55357,56550],[55357,56555],[55357,56554],[55357,56556],[55357,56557],[55357,56558],[55357,56819],[9999],[10002],[55357,56715],[55357,56714],[55357,56716],[55357,56717],[55357,56541],[55357,56513],[55357,56514],[55357,56770],[55357,56517],[55357,56518],[55357,56786],[55357,56787],[55357,56519],[55357,56520],[55357,56521],[55357,56522],[55357,56523],[55357,56524],[55357,56525],[55357,56526],[55357,56711],[55357,56527],[55357,56528],[9986],[55357,56771],[55357,56772],[55357,56785],[55357,56594],[55357,56595],[55357,56591],[55357,56592],[55357,56593],[55357,56797],[55357,56616],[9935],[9874],[55357,57056],[55357,56801],[9876],[55357,56619],[55357,57057],[55357,56615],[55357,56617],[9881],[55357,56796],[9878],[55357,56599],[9939],[55358,56816],[55358,56818],[9879],[55358,56810],[55358,56811],[55358,56812],[55357,56620],[55357,56621],[55357,56545],[55357,56457],[55357,56458],[55357,57002],[55357,57039],[55357,57035],[55357,57021],[55357,57023],[55357,57025],[55358,56820],[55358,56823],[55358,56825],[55358,56826],[55358,56827],[55358,56828],[55358,56829],[55358,56815],[55357,57004],[9904],[9905],[55357,56831],[55357,57008]],g=[[55357,56472],[55357,56477],[55357,56470],[55357,56471],[55357,56467],[55357,56478],[55357,56469],[55357,56479],[10083],[55357,56468],[10084],[55358,56801],[55357,56475],[55357,56474],[55357,56473],[55357,56476],[55357,56740],[55357,56495],[55357,56482],[55357,56492],[55357,56385,65039,8205,55357,56808,65039],[55357,56815],[55357,56493],[55357,56484],[55357,56494],[9832],[55357,56456],[55357,57041],[55357,56667],[55357,56679],[55357,56656],[55357,56668],[55357,56657],[55357,56669],[55357,56658],[55357,56670],[55357,56659],[55357,56671],[55357,56660],[55357,56672],[55357,56661],[55357,56673],[55357,56662],[55357,56674],[55357,56663],[55357,56675],[55357,56664],[55357,56676],[55357,56665],[55357,56677],[55357,56666],[55357,56678],[55356,57088],[9824],[9829],[9830],[9827],[55356,56527],[55356,56324],[55356,57268],[55357,56583],[55357,56584],[55357,56585],[55357,56586],[55357,56546],[55357,56547],[55357,56559],[55357,56596],[55357,56597],[55356,57269],[55356,57270],[55356,57319],[55357,57006],[55357,57008],[9855],[55357,57017],[55357,57018],[55357,57019],[55357,57020],[55357,57022],[9888],[55357,57016],[9940],[55357,57003],[55357,57011],[55357,57005],[55357,57007],[55357,57009],[55357,57015],[55357,56606],[9762],[9763],[11014],[8599],[10145],[8600],[11015],[8601],[11013],[8598],[8597],[8596],[8617],[8618],[10548],[10549],[55357,56579],[55357,56580],[55357,56601],[55357,56602],[55357,56603],[55357,56604],[55357,56605],[55357,57040],[9883],[55357,56649],[10017],[9784],[9775],[10013],[9766],[9770],[9774],[55357,56654],[55357,56623],[9800],[9801],[9802],[9803],[9804],[9805],[9806],[9807],[9808],[9809],[9810],[9811],[9934],[55357,56576],[55357,56577],[55357,56578],[9654],[9193],[9664],[9194],[55357,56636],[9195],[55357,56637],[9196],[9209],[9167],[55356,57254],[55357,56581],[55357,56582],[55357,56566],[55357,56563],[55357,56564],[10006],[10133],[10134],[10135],[9854],[8252],[8265],[10067],[10068],[10069],[10071],[9851],[55357,56625],[55357,56539],[55357,56624],[11093],[9989],[9745],[10004],[10060],[10062],[10160],[10175],[12349],[10035],[10036],[10055],[169],[174],[8482],[35,65039,8419],[48,65039,8419],[49,65039,8419],[50,65039,8419],[51,65039,8419],[52,65039,8419],[53,65039,8419],[54,65039,8419],[55,65039,8419],[56,65039,8419],[57,65039,8419],[55357,56607],[55357,56608],[55357,56609],[55357,56610],[55357,56611],[55357,56612],[55356,56688],[55356,56718],[55356,56689],[55356,56721],[55356,56722],[55356,56723],[8505],[55356,56724],[9410],[55356,56725],[55356,56726],[55356,56702],[55356,56727],[55356,56703],[55356,56728],[55356,56729],[55356,56730],[55356,56833],[55356,56834],[55356,56887],[55356,56886],[55356,56879],[55356,56912],[55356,56889],[55356,56858],[55356,56882],[55356,56913],[55356,56888],[55356,56884],[55356,56883],[12951],[12953],[55356,56890],[55356,56885],[55357,56628],[55357,56629],[9899],[9898],[11035],[11036],[9724],[9723],[9726],[9725],[9642],[9643],[55357,56630],[55357,56631],[55357,56632],[55357,56633],[55357,56634],[55357,56635],[55357,56480],[55357,56627],[55357,56626]];return{SMILEYS_PEOPLE:{emojis:a,label:i},ANIMALS_NATURE:{emojis:b,label:j},FOOD_DRINK:{emojis:c,label:k},ACTIVITES:{emojis:d,label:l},TRAVEL_PLACES:{emojis:e,label:m},OBJECTS:{emojis:f,label:n},SYMBOLS:{emojis:g,label:o}}};g.EMOJI_TRAY_MOST_POPULAR=a;g.getMostPopularEmojis=b;g.getEmojis=c}),98);
__d("useIGDSEmojis",["IGDSEmojiConstants","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(){var a=h(d("IGDSEmojiConstants").getMostPopularEmojis,[]),b=h(d("IGDSEmojiConstants").getEmojis,[]);return{Emojis:b,mostPopularEmojis:a}}g["default"]=a}),98);
__d("IGDSEmojiTray.react",["BaseButton.react","IGDSBox.react","IGDSEmoji.react","IGDSEmojiConstants","IGDSText.react","react","useIGDSEmojis"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={emoji:{alignItems:"x6s0dn4",fontSize:"x579bpy",fontWeight:"x1fcty0u",height:"x10w6t97",justifyContent:"xl56j7k",width:"x1td3qas",$$css:!0},emojiButton:{color:"x173jzuc",height:"x10w6t97",lineHeight:"xggjnk3",marginTop:"x1k70j0n",marginEnd:"x1w0mnb",marginBottom:"xzueoph",marginStart:"x1mnrxsn",textAlign:"x2b8uid",userSelect:"x87ps6o",width:"x1td3qas",":active_opacity":"x1d5wrs8",$$css:!0}};function j(a){a=a.headerText;return h.jsx(c("IGDSBox.react"),{marginBottom:2,marginEnd:2,marginStart:2,marginTop:4,width:"100%",children:h.jsx(c("IGDSText.react").BodyEmphasized,{color:"secondaryText",textAlign:"start",children:a})})}j.displayName=j.name+" [from "+f.id+"]";function k(a){var b=a.emoji,d=a.emojiCodePoint,e=a.onClick;return h.jsx(c("BaseButton.react"),{onClick:function(){e!=null&&e(d)},xstyle:i.emojiButton,children:h.jsx("div",{className:"x6s0dn4 x579bpy x1fcty0u x10w6t97 xl56j7k x1td3qas",children:h.jsx(c("IGDSEmoji.react"),{emoji:b})})})}k.displayName=k.name+" [from "+f.id+"]";var l=309,m=309;function a(a){var b=a.onClick,e=a.height;e=e===void 0?l:e;a=a.width;a=a===void 0?m:a;var f=c("useIGDSEmojis")(),g=f.Emojis;f=f.mostPopularEmojis;return h.jsx(c("IGDSBox.react"),{height:e,margin:2,overflow:"scrollY",width:a,children:h.jsxs(c("IGDSBox.react"),{direction:"row",wrap:!0,children:[h.jsx(c("IGDSBox.react"),{margin:2,width:"100%",children:h.jsx(c("IGDSText.react").BodyEmphasized,{color:"secondaryText",textAlign:"start",children:d("IGDSEmojiConstants").EMOJI_TRAY_MOST_POPULAR})}),f.map(function(a){var c=String.fromCodePoint.apply(String,a);return h.jsx(k,{emoji:c,emojiCodePoint:a,onClick:b},c)}),Object.keys(g).map(function(a){var c=g[a],d=c.emojis;c=c.label;return h.jsxs(h.Fragment,{children:[h.jsx(j,{headerText:c}),d.map(function(a){var c=String.fromCodePoint.apply(String,a);return h.jsx(k,{emoji:c,emojiCodePoint:a,onClick:b},c)})]},a)})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDComposerEmojiPicker.react",["IGDSEmojiTray.react","IGDSPopover.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a.onClose;var b=a.onSelect;a=h.jsx("div",{className:"xz9dl7a xj6ak53",children:h.jsx(c("IGDSEmojiTray.react"),{onClick:function(a){b(a)},width:"auto"})});return h.jsx(c("IGDSPopover.react"),{popoverContent:a,popoverName:"emojiTray",withArrow:!0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageEmojiPicker.react",["CometPopover.react","IGDSEmojiTray.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onClose,d=a.onSelect;a=function(a){d(a);return b()};return h.jsx(c("CometPopover.react"),{arrowAlignment:"edge",withArrow:!0,children:h.jsx(c("IGDSEmojiTray.react"),{onClick:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageCopyButton.react",["fbt","Clipboard","IGDSButton.react","MWPActor.react","promiseDone","react","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("requireDeferred")("MWLogMessageAction").__setRef("IGDMessageCopyButton.react");function a(a){var b=a.message,e=a.onClose,f=c("useReStore")(),g=d("MWPActor.react").useActor();a=function(){var a;d("Clipboard").copy((a=b.text)!=null?a:"");e();j.onReady(function(a){return c("promiseDone")(a.log(f,b.messageId,b.threadKey,"message_dot_menu","copy",void 0,void 0,void 0,b.senderId,void 0,g))})};return i.jsx(c("IGDSButton.react"),{display:"block",label:h._("__JHASH__3LRiqsZl3CP__JHASH__"),onClick:a,role:"menuitem",variant:"white_link"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatInteractionLog.bs",["QPLUserFlow"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function a(a,b){var d=Date.now()|0;h.set(b,d);c("QPLUserFlow").start(a,{cancelOnUnload:!0,instanceKey:d,timeoutInMs:6e4})}function b(a,b,d){b=h.get(b);if(!(b==null)){c("QPLUserFlow").endFailure(a,d,{instanceKey:b});return}}function d(a,b){b=h.get(b);if(!(b==null)){c("QPLUserFlow").endSuccess(a,{instanceKey:b});return}}function e(a,b,d){b=h.get(b);if(!(b==null)){c("QPLUserFlow").addPoint(a,d,{instanceKey:b});return}}g.logStartUserFlow=a;g.logFailUserFlow=b;g.logSuccessUserFlow=d;g.logPointUserFlow=e}),98);
__d("MercuryIDs",["gkx"],(function(a,b,c,d,e,f){"use strict";var g={isValid:function(a){return a==null||a===""||typeof a!=="string"?!1:/^\w{3,12}:.+/.test(a)},isValidThreadID:function(a){if(!g.isValid(a))return!1;a=g.tokenize(a);switch(a.type){case"user":case"support":case"thread":case"root":return!0;default:return(a.type==="pending"||a.type==="group")&&!b("gkx")("863760")?!0:!1}},tokenize:function(a){if(a==null||a===""||!g.isValid(a))throw new Error("bad_id_format "+String(a));var b=a.indexOf(":");return{type:a.substr(0,b),value:a.substr(b+1)}},getUserIDFromParticipantID:function(a){if(!g.isValid(a))throw new Error("bad_id_format "+a);a=g.tokenize(a);var b=a.type;a=a.value;return b==="fbid"?a:null},getParticipantIDFromUserID:function(a){if(isNaN(a))throw new Error("Not a user ID: "+a);return"fbid:"+a},getUserIDFromThreadID:function(a){return!this.isCanonical(a)?null:this.tokenize(a).value},getThreadIDFromUserID:function(a){return"user:"+a},getThreadIDFromThreadFBID:function(a){return"thread:"+a},getThreadIDFromSupportInboxItemID:function(a){return"support:"+a},getThreadFBIDFromThreadID:function(a){return this.tokenize(a).value},getThreadKeyfromThreadIDUserID:function(a,b){if(a==null||a===""||!g.isValid(a))throw new Error("bad_id_format "+String(a));var c=this.tokenize(a).type;a=this.tokenize(a).value;if(c!=="user")return"g"+a;c="";var d="";if(a.length!==b.length)a.length>b.length?(c=a,d=b):(c=b,d=a);else if(b===a)return b+"u"+a;else{var e=0;while(e<a.length&&e<b.length)if(a[e]===b[e])e++;else{a[e]>b[e]?(c=a,d=b):(c=b,d=a);break}}return d+"u"+c},getThreadIDFromParticipantID:function(a){a=this.getUserIDFromParticipantID(a);return a?this.getThreadIDFromUserID(a):null},getParticipantIDFromFromThreadID:function(a){a=this.getUserIDFromThreadID(a);return a?this.getParticipantIDFromUserID(a):null},getSupportInboxItemIDFromThreadID:function(a){return this.tokenize(a).value},isCanonical:function(a){return this.isValid(a)&&this.tokenize(a).type==="user"},isGroupChat:function(a){return this.isValid(a)&&this.tokenize(a).type!=="user"},isLocalThread:function(a){return this.isValid(a)&&this.tokenize(a).type==="root"}};e.exports=g}),null);
__d("MWChatThreadId",["LSIntEnum","MercuryIDs","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a.NAME){case"Group":return d("MercuryIDs").getThreadIDFromThreadFBID(a.VAL);case"User":return d("MercuryIDs").getThreadIDFromUserID(a.VAL);case"Page":return d("MercuryIDs").getThreadIDFromUserID(a.VAL);case"UserSecret":throw c("unrecoverableViolation")("Not supported","messenger_web_product")}}function b(a){switch(a.NAME){case"Group":case"User":case"Page":case"UserSecret":return a.VAL}}function e(a){switch(a.NAME){case"Group":return"g."+a.VAL;case"Page":return"p."+a.VAL;case"User":return"u."+a.VAL;case"UserSecret":throw c("unrecoverableViolation")("Not supported","messenger_web_product")}}function f(a){switch(a.targetType){case"GROUP":return{NAME:"Group",VAL:a.targetID};case"PAGE":return{NAME:"Page",VAL:a.targetID};case"USER":return{NAME:"User",VAL:a.targetID};default:throw c("unrecoverableViolation")("Invalid id","messenger_web_product")}}function h(a){return a.NAME==="User"}function i(a){return a.NAME==="UserSecret"}function j(a){if(a==null)return;a=a.split(":");if(a.length!==2)return;var b=a[0];a=a[1];switch(b){case"thread":return{NAME:"Group",VAL:a};case"user":return{NAME:"User",VAL:a};default:return}}function k(a){a=a.NAME;if(a==="Group")return d("LSIntEnum").ofNumber(2);return a==="User"||a==="Page"?d("LSIntEnum").ofNumber(1):d("LSIntEnum").ofNumber(7)}g.getMercuryID=a;g.getFBID=b;g.serializeFuture=e;g.fromJs=f;g.isUser=h;g.isSecret=i;g.deserializeFromLegacyThreadId=j;g.getMessagingThreadType=k}),98);
__d("MWThread_DEPRECATED.bs",["FBLogger","I64","gkx","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.createContext,j=h.createElement,k=h.useContext,l=i();function a(){if(c("gkx")("7530")){var a=c("FBLogger")("work_web_messaging");a.blameToPreviousFile();a.mustfix("MWThread_DEPRECATED useId usage in Workplace")}return k(l)}function m(){if(c("gkx")("7530")){var a=c("FBLogger")("work_web_messaging");a.blameToPreviousFile();a.mustfix("MWThread_DEPRECATED useIdExn usage in Workplace")}a=k(l);if(a==null)throw c("unrecoverableViolation")("This hook can only be used in a component wrapped with a MWThread_DEPRECATED provider","messenger_e2ee_web");return a}function b(a){return d("I64").of_string(a.VAL)}function e(){return m().VAL}function f(a){return a.VAL}function n(a){var b=a.children;a=a.id;var d=k(l);if(d!=null)throw c("unrecoverableViolation")("You can't nest MWThread in another MWThread_DEPRECATED. This will cause SEVs as things might think they're in the wrong thread","messenger_web_product");return j(l.Provider,{children:b,value:a})}h=n;g.context=l;g.useId=a;g.useIdExn=m;g.toThreadKey=b;g.useFBID=e;g.key=f;g.make=h}),98);
__d("useGetForwardSource",["LSIntEnum","LSMessagingThreadAttributionType","MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();if(a!=null)if(a==="Inbox")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_INBOX_FORWARD);else if(a==="ChatTab")return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_CHAT_FORWARD);else return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_BROADCAST_FLOW);else return d("LSIntEnum").ofNumber(c("LSMessagingThreadAttributionType").MESSENGER_BROADCAST_FLOW)}g["default"]=a}),98);
__d("WorkChatMessageType.bs",[],(function(a,b,c,d,e,f){"use strict";a="text";b="gif";c="sticker";d="audio";e="file";f.text=a;f.gif=b;f.sticker=c;f.audio=d;f.file=e}),66);
__d("getMWReplySourceId",["MWChatMessageId"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return;return d("MWChatMessageId").getMessageId(a.content._0.messageID)}g["default"]=a}),98);
__d("useMWLSSendStickerMessage",["I64","Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessage","LSShape","LSThreadAttributionTypeUtil.bs","MWPActor.react","MWThread_DEPRECATED.bs","WorkChatMessageType.bs","getMWReplySourceId","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=c("useReStore")(),g=d("MWPActor.react").useActor();return d("Int64Hooks").useCallbackInt64(function(h,i,j,k){c("promiseDone")(f.runInTransaction(function(e){var f,l=d("MWThread_DEPRECATED.bs").toThreadKey(h);f=d("LSThreadAttributionTypeUtil.bs").getSource(l,(f=a)!=null?f:"unknown");return c("LSOptimisticSendMessage")(g,l,d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),void 0,void 0,!1,d("I64").of_string(i),void 0,void 0,void 0,f,void 0,void 0,c("getMWReplySourceId")(j),d("LSIntEnum").ofNumber(c("LSMessageReplySourceType").MESSAGE),d("LSIntEnum").ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE),void 0,void 0,void 0,!0,!0,d("LSShape").ofRecord({playable_url:void 0,playable_url_expiration_timestamp_ms:void 0,playable_url_fallback:void 0,playable_url_mime_type:void 0,preview_height:d("I64").zero,preview_url:k,preview_url_expiration_timestamp_ms:void 0,preview_url_fallback:void 0,preview_url_mime_type:void 0,preview_width:d("I64").zero}),b,void 0,void 0,void 0,c("LSFactory")(e))},"readwrite").then(function(a){e==null?void 0:e(d("WorkChatMessageType.bs").sticker,1,a[0])}))},[f,g,b,a,e])}g["default"]=a}),98);
__d("MWLSForwardMessage.bs",["I64","Int64Hooks","LSFactory","LSMediaUrl.bs","LSMessagingInitiatingSourceHook.bs","LSMessagingSource","LSOptimisticSendAttachmentForward","LSOptimisticSendMessageForward","MWChatInteractionLog.bs","MWChatThreadId","MWPActor.react","MWThread_DEPRECATED.bs","ODS","Promise","ReQL.bs","promiseDone","qpl","useGetForwardSource","useMWLSSendStickerMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useReStore")(),e=d("MWPActor.react").useActor(),f=d("LSMessagingInitiatingSourceHook.bs").useHook(),g=c("useGetForwardSource")(),h=d("LSMessagingSource").useHook(),i=c("useMWLSSendStickerMessage")(h,f);return d("Int64Hooks").useCallbackInt64(function(h,j){var k=d("MWChatThreadId").getMessagingThreadType(h),l=d("MWThread_DEPRECATED.bs").toThreadKey(h);switch(j.TAG){case 0:case 1:return;case 2:j=j._0;var m=j.timestamp,n=j.messageId,o=j.threadId;d("ODS").bumpEntityKey(3185,"mw_forward","send");d("MWChatInteractionLog.bs").logPointUserFlow(c("qpl")._(25298392,"4881"),n,"sending");var p=function(){return a.runInTransaction(function(a){return c("LSOptimisticSendMessageForward")(e,l,k,o,m,n,g,f,c("LSFactory")(a))},"readwrite").then(function(){})};c("promiseDone")(d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("messages")),{hd:o,tl:{hd:m,tl:{hd:n,tl:0}}})).then(function(c){if(c==null)return p();var e=c.stickerId;if(e!=null)return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("attachments")),{hd:o,tl:{hd:n,tl:0}})).then(function(a){a=a!=null?d("LSMediaUrl.bs").Attachment.previewUrl(a):void 0;i(h,d("I64").to_string(e),void 0,a);return b("Promise").resolve()});else return p()}),function(){d("ODS").bumpEntityKey(3185,"mw_forward","success");return d("MWChatInteractionLog.bs").logSuccessUserFlow(c("qpl")._(25298392,"4881"),n)},function(){d("ODS").bumpEntityKey(3185,"mw_forward","failure");return d("MWChatInteractionLog.bs").logFailUserFlow(c("qpl")._(25298392,"4881"),n,"ls_error")});return}},[a,e,f,g,i])}function e(){var a=c("useReStore")(),b=d("MWPActor.react").useActor(),e=d("LSMessagingInitiatingSourceHook.bs").useHook(),f=c("useGetForwardSource")();return d("Int64Hooks").useMemoInt64(function(){return function(g,h,i){d("ODS").bumpEntityKey(3185,"mw_forward","send");i!=null&&d("MWChatInteractionLog.bs").logPointUserFlow(c("qpl")._(25298392,"4881"),i,"sending");var j=d("MWChatThreadId").getMessagingThreadType(g),k=d("MWThread_DEPRECATED.bs").toThreadKey(g);c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticSendAttachmentForward")(b,k,j,void 0,void 0,void 0,void 0,d("I64").of_string(h),f,e,c("LSFactory")(a))},"readwrite"),function(){d("ODS").bumpEntityKey(3185,"mw_forward","success");if(i!=null)return d("MWChatInteractionLog.bs").logSuccessUserFlow(c("qpl")._(25298392,"4881"),i)},function(){i!=null&&d("MWChatInteractionLog.bs").logFailUserFlow(c("qpl")._(25298392,"4881"),i,"ls_error"),d("ODS").bumpEntityKey(3185,"mw_forward","failure")})}},[a,b,e,f])}g.useForwardMessage=a;g.useForwardAttachment=e}),98);
__d("MWV2ForwardMessage.bs",["$InternalEnum","FBLogger","I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWDbMsg","MAWThreadId","MAWVerifyThreadCutover","MWChatMessageId","MWLSForwardMessage.bs","MWPActor.react","MWQPLMarkers","MWThread_DEPRECATED.bs","Promise","ReQL","ReQLSuspense","asyncToGeneratorRuntime","cr:282","cr:338","cr:4950","cr:6938","unrecoverableViolation","useGetForwardSource","useReStore","useSendToSentLogging"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c=b.threadKey;return d("ReQLSuspense").useFirstExn(function(){return d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(c)},[a,c],f.id+":53")}function i(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(b))}function j(a,b,c){return d("ReQL").firstAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(b),d("ReQL").fromTableAscending(a.table("contacts"))).filter(function(a){a[0];a=a[1];return!d("I64").equal(a.id,c)}))}function k(a,b){var c=b.messageId,e=b.threadKey;return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.table("attachments")).getKeyRange(e,c)},[a,c,e],f.id+":82")}var l=b("$InternalEnum")({SecureToOpen:"secure_to_open",SecureToSecure:"secure_to_secure"});function a(a){var e=c("useReStore")(),f=h(e,a),g=k(e,a),m=d("LSMessagingThreadTypeUtil").isSecure(f.threadType),n=d("MWPActor.react").useActor(),o=!d("I64").equal(n,a.senderId),p=d("MWLSForwardMessage.bs").useForwardMessage(),q=c("useGetForwardSource")(),r=d("MWChatMessageId").makeSent(d("I64").to_string(a.threadKey),a.messageId,d("I64").to_string(a.timestampMs)),s=c("useSendToSentLogging")({attachment_type:"forward",message_type:"forward"}),t=d("Int64Hooks").useCallbackInt64(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(f){var h=d("MWThread_DEPRECATED.bs").toThreadKey(f),k=(yield d("MAWVerifyThreadCutover").verifyThreadCutover(b("Promise").resolve(e),h)),p=s({isCutover:k,isSecure:m,targetID:f.VAL},a.messageId+"-"+f.VAL,q),r=p.addMetadata,t=p.endFailure;p=p.s2sInstanceKey;h=(yield b("Promise").all([d("MAWThreadId").isSecureThreadId(e,h),i(e,h),j(e,h,n)]));var u=h[0],v=h[1];h=h[2];u=u||k;try{if(b("cr:6938")!=null&&!u){r==null?void 0:r("forward_type",l.SecureToOpen);return b("cr:6938").forwardMessage(e,f,a,o,g,n,q)}k=d("MAWDbMsg").toMsgId(a.messageId);if(k==null)throw c("unrecoverableViolation")("Message does not have an id","messenger_web_product");if(b("cr:338")!=null){r==null?void 0:r("forward_type",l.SecureToSecure);if(b("cr:282")!=null&&v!=null){b("cr:338").forwardMessage(e,f,k,q,(u=p)!=null?u:void 0);return b("cr:282").call(e,n,v,h,d("LSMessagingThreadTypeUtil").isOneToOne(v.threadType))}return b("cr:338").forwardMessage(e,f,k,q,(r=p)!=null?r:void 0)}throw c("unrecoverableViolation")("We won't reach to this step, if you are in QE, you should use secure forward","messenger_web_product")}catch(a){t==null?void 0:t(d("MWQPLMarkers").MESSAGE_SEND_TO_SENT.FAIL_FORWARDING_MESSAGE,a.name+": "+a.message);c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("MW Fail forwarding a message");throw a}});return function(a){return f.apply(this,arguments)}}(),[e,n,a,o,g,q,m,s]),u=d("Int64Hooks").useCallbackInt64(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){var h=d("MWThread_DEPRECATED.bs").toThreadKey(c);h=(yield b("Promise").all([d("MAWThreadId").isSecureThreadId(e,h),i(e,h),j(e,h,n),d("MAWVerifyThreadCutover").verifyThreadCutover(b("Promise").resolve(e),h)]));var k=h[0],l=h[1],m=h[2];h=h[3];k=k||h;if(b("cr:4950")!=null&&k)if(b("cr:282")!=null&&l!=null){b("cr:4950").forwardMessage(e,c,f,a,o,g,q);return b("cr:282").call(e,n,l,m,d("LSMessagingThreadTypeUtil").isOneToOne(l.threadType))}else return b("cr:4950").forwardMessage(e,c,f,a,o,g,q);return p(c,r)});return function(a){return c.apply(this,arguments)}}(),[e,p,o,g,a,r,n,q,f]);return d("Int64Hooks").useMemoInt64(function(){return m?t:u},[m,t,u])}g.useForwardMessage=a}),98);
__d("IGDMessageForwardButton.react",["fbt","CometLazyDialogTrigger.react","IGDContactSearchDialogType.flow","IGDSButton.react","IGDSDialogPlaceholder.react","JSResourceForInteraction","MWV2ForwardMessage.bs","Promise","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("JSResourceForInteraction")("IGDAWOminipickerDialog.react").__setRef("IGDMessageForwardButton.react");function k(a){switch(a.type){case"thread":return{NAME:"Group",VAL:a.candidate.id};case"user":return{NAME:"User",VAL:a.candidate.id}}}function a(a){a=a.message;var e=d("MWV2ForwardMessage.bs").useForwardMessage(a);a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=Array.from(a.values()).map(function(a){return e(k(a))});yield b("Promise").allSettled(a)});return function(b){return a.apply(this,arguments)}}();return i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{includeGroup:!0,maxRecipients:5,onSubmit:a,searchType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.FORWARD_MESSAGE,submitButtonLabel:h._("__JHASH__Mg5C78xztSX__JHASH__").toString(),titleLabel:h._("__JHASH__vSmnaQ11N0G__JHASH__").toString()},dialogResource:j,fallback:function(a){return i.jsx(c("IGDSDialogPlaceholder.react"),{fixedHeight:!0,onClose:a,size:"large"})},children:function(a){return i.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",label:h._("__JHASH__YherSGbeO3h__JHASH__"),onClick:a,role:"menuitem",variant:"white_link"})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageReportButton.react",["fbt","CometLazyDialogTrigger.react","IGDSButton.react","MWPActor.react","promiseDone","react","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("requireDeferred")("MWLogMessageAction").__setRef("IGDMessageReportButton.react");function a(a){var b=a.dialogProps,e=a.dialogResource,f=a.message,g=a.setReportDialogOpen,k=d("MWPActor.react").useActor(),l=c("useReStore")(),m=h._("__JHASH__iy-oX7MfwVR__JHASH__");return i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:b,dialogResource:e,children:function(a){return i.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",label:m,onClick:function(){g(!0),a(),j.onReady(function(a){return c("promiseDone")(a.log(l,f.messageId,f.threadKey,"message_dot_menu","report",void 0,void 0,void 0,f.senderId,void 0,k))})},role:"menuitem",variant:"white_link"})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageUnsendButton.react",["fbt","CometLazyDialogTrigger.react","IGDSButton.react","JSResourceForInteraction","PolarisDirectLogger","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("JSResourceForInteraction")("IGDMessageUnsendDialog.react").__setRef("IGDMessageUnsendButton.react");function a(a){var b=a.message,e=a.setUnsendDialogOpen,f=h._("__JHASH__H8A15z0PXSW__JHASH__");return i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{message:b,onClose:function(){return e(!1)}},dialogResource:j,children:function(a){return i.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",label:f,onClick:function(){a(),e(!0),d("PolarisDirectLogger").DirectLogger.logDirectEvent("DirectThread","direct_delete_message_attempt")},role:"menuitem",variant:"white_link"})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIGDBroadcastChannelImpressionLoggerWithCheck",["MWCMThreadTypes.react","promiseDone","react","useIGDBroadcastChannelLogger","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a,b,e){var f=c("useIGDBroadcastChannelLogger")(a);a=h(function(){b!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(b)&&c("promiseDone")(f(e))},[b,f,e]);return c("useSinglePartialViewImpression")({onImpressionStart:a})}g["default"]=a}),98);
__d("IGDMessageMoreMenuPopover.react",["BaseTheme.react","CometPopover.react","FocusGroup.react","I64","IGDBroadcastChannelLoggingShapes","IGDMessageCopyButton.react","IGDMessageForwardButton.react","IGDMessageReportButton.react","IGDMessageUnsendButton.react","JSResourceForInteraction","LSMediaUrl.bs","MWPActor.react","PolarisDirectLogger","ReQL","ReQLSuspense","focusScopeQueries","qex","react","useIGDBroadcastChannelImpressionLoggerWithCheck","usePolarisAnalyticsContext","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b={"card-background":"black"};e={"card-background":"black"};var i={dark:e,light:b,type:"VARIABLES"};e=d("FocusGroup.react").createFocusGroup(d("focusScopeQueries").tabbableScopeQuery);var j=e[0],k=e[1];function a(a){var b=a.isCopyable,e=a.isForwardable,g=a.isGroup,l=a.isMessageRequest,m=a.isReportable,n=a.isSecure,o=a.isUnsendable,p=a.message,q=a.onClose,r=a.setReportDialogOpen,s=a.setUnsendDialogOpen;a=a.threadSubType;var t=d("MWPActor.react").useActor(),u=c("useReStore")();e=e&&!l?h.jsx(k,{children:h.jsx("div",{className:"x1e558r4 x150jy0e",role:"none",children:h.jsx(c("IGDMessageForwardButton.react"),{message:p})})}):null;b=b?h.jsx(k,{children:h.jsx("div",{className:"x1e558r4 x150jy0e",role:"none",children:h.jsx(c("IGDMessageCopyButton.react"),{message:p,onClose:q})})}):null;q=c("useIGDBroadcastChannelImpressionLoggerWithCheck")(p.threadKey,a,d("IGDBroadcastChannelLoggingShapes").MESSAGE_OPTIONS_RENDERED_SHAPE);d("PolarisDirectLogger").DirectLogger.logDirectEvent("DirectMessageOptionsDialogDesktop","direct_tooltip_options_click");a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(u.table("contacts")).getKeyRange(p.senderId)},[u,p.senderId],f.id+":122");var v=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(u.table("ig_thread_info")).getKeyRange(p.threadKey)},[u,p.threadKey],f.id+":129"),w=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(u.table("mailbox_metadata")).getKeyRange(t)},[u,t],f.id+":136"),x=c("usePolarisAnalyticsContext")()+"WWW",y=null;if(w&&m&&a){var z;a={onClose:function(){r(!1)},profilePicUrl:d("LSMediaUrl.bs").Contact.profilePictureUrl(a),senderId:d("I64").to_string(p.senderId),username:(m=a.secondaryName)!=null?m:""};m=(m=c("qex")._("673"))!=null?m:!1;z=(z=c("qex")._("676"))!=null?z:!1;n&&m?y=h.jsx(k,{children:h.jsx("div",{className:"x1e558r4 x150jy0e",children:h.jsx(c("IGDMessageReportButton.react"),{dialogProps:babelHelpers["extends"]({},a,{isGroup:g,messageId:p.messageId,threadId:d("I64").to_string(p.threadKey)}),dialogResource:c("JSResourceForInteraction")("PolarisDirectReportingEncryptedMessageModal").__setRef("IGDMessageMoreMenuPopover.react"),message:p,setReportDialogOpen:r})})}):v&&z&&(y=h.jsx(k,{children:h.jsx("div",{className:"x1e558r4 x150jy0e",children:h.jsx(c("IGDMessageReportButton.react"),{dialogProps:babelHelpers["extends"]({},a,{containerModule:x,isGroup:g,messageInfo:{fbMessageId:p.messageId,mailboxId:d("I64").to_string(w.id)},threadId:v.igThreadId}),dialogResource:c("JSResourceForInteraction")("PolarisDirectReportingMessageModal").__setRef("IGDMessageMoreMenuPopover.react"),message:p,setReportDialogOpen:r})})}))}n=o&&!l?h.jsx(k,{children:h.jsx("div",{className:"x1e558r4 x150jy0e",role:"none",children:h.jsx(c("IGDMessageUnsendButton.react"),{message:p,setUnsendDialogOpen:s})})}):null;return h.jsx(c("BaseTheme.react"),{config:i,children:h.jsx(c("CometPopover.react"),{withArrow:!0,children:h.jsx(j,{orientation:"horizontal",children:h.jsxs("div",{className:"x78zum5 x1f6kntn x1y1aw1k x1sxyh0 xwib8y2 xurb0ha",ref:q,role:"menu",children:[e,b,n,y]})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);